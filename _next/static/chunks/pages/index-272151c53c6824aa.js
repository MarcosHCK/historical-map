(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{4597:(e,t,r)=>{"use strict";r.r(t),r.d(t,{IndexPage:()=>k,default:()=>U});var a=r(7876),n=r(4188),i=r(5050),s=r(4032),o=r(9021),l=r(9252),c=r(8284),d=r(3675),p=r(6335),u=r(7149),f=r(4232),h=r(3934);let y=JSON.parse('{"$ref":"#/definitions/MapsIndex","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MapsIndex":{"additionalProperties":false,"properties":{"entries":{"items":{"$ref":"#/definitions/MapsIndexEntry"},"type":"array"},"version":{"const":"1.1","type":"string"}},"required":["entries","version"],"type":"object"},"MapsIndexEntry":{"anyOf":[{"additionalProperties":false,"properties":{"type":{"const":"group","type":"string"},"value":{"$ref":"#/definitions/MapsIndexEntryGroup"}},"required":["type","value"],"type":"object"},{"additionalProperties":false,"properties":{"type":{"const":"map","type":"string"},"value":{"$ref":"#/definitions/MapsIndexEntryMap"}},"required":["type","value"],"type":"object"}]},"MapsIndexEntryGroup":{"additionalProperties":false,"properties":{"entries":{"items":{"$ref":"#/definitions/MapsIndexEntry"},"type":"array"},"title":{"type":"string"}},"required":["entries","title"],"type":"object"},"MapsIndexEntryMap":{"additionalProperties":false,"properties":{"mapLayer":{"type":"string"},"title":{"type":"string"},"walkLayer":{"type":"string"}},"required":["mapLayer","title","walkLayer"],"type":"object"}}}');var v=r(7808),m=r.n(v);let x={headers:{Accept:"application/json"},method:"GET"};class w{set fromUrl(e){this._fromUrl=e}async fetch(e){let t,r=await fetch(e,x);if(200!==(t=r.status))throw Error("'".concat(e,"' fetch error: ").concat(t),{cause:"fetch"});{let e,t=r.url;if(this.validate(e=await r.json(),t))return e;throw Error("invalid response from server",{cause:"validation"})}}validate(e,t){if(this.fromUrl=t,!this._validator(e))throw AggregateError(this._validator.errors.map(e=>{var t;let r=null!=(t=e.instancePath)?t:"(root)";return Error("At ".concat(r,": ").concat(e.message),{cause:"validation"})}),"invalid JSON value",{cause:"validation"});return!0}validateUri(e){try{return new URL(e),!0}catch(t){try{return new URL(e,this._fromUrl),!0}catch(e){return!1}}}constructor(e,t){var r,a,n;let i=new(m())({code:{optimize:!0,source:!0},strict:!0});i.addFormat("uri-relative",{type:"string",validate:e=>this.validateUri(e)});for(let e=0;e<(null!=(r=null==t?void 0:t.length)?r:0);++e)try{i.addSchema(t[e])}catch(s){let r=t[e],i=null!=(n=null!=(a=r.id)?a:r.$id)?n:"<at index ".concat(e,">");throw AggregateError([s],"failed to add schema '".concat(i))}this._fromUrl=void 0,this._validator=i.compile(e)}}let g=new w(y),j=e=>{let t=(0,h.h)(),{data:r,error:a}=(0,p.I)({enabled:!!e,placeholderData:u.rX,queryFn:async()=>g.fetch(e),queryKey:["maps","index",e]});return(0,f.useEffect)(()=>{a&&t.push(a)},[a,t]),r};var E=r(8230),_=r.n(E),b=r(8220).Buffer;function P(e){let{expanded:t,folder:r}=e;switch(r){case!0:switch(t){case!0:return(0,a.jsx)(c.WzY,{});case!1:return(0,a.jsx)(c.SBr,{})}case!1:return(0,a.jsx)(c.Agx,{})}}function M(e){let{node:t,expanded:r,hasChildren:s,elementProps:o}=e;return(0,a.jsxs)(n.Y,{gap:5,...o,children:[(0,a.jsx)(P,{expanded:r,folder:s}),""===t.value?(0,a.jsx)(i.E,{component:"span",children:t.label}):(0,a.jsx)(i.E,{component:_(),href:"/map?".concat(function(e){let{nodeProps:{walk:t},value:r}=e;return["map=".concat(b.from(r).toString("base64")),"walk=".concat(b.from(t).toString("base64"))].join("&")}(t)),children:t.label})]})}let I=(0,f.forwardRef)((e,t)=>{let{indexFile:r="/index.json"}=e,n=j((0,d.vP)(r)),i=(0,f.useMemo)(()=>n?function e(t){return{children:t.entries.map(t=>(function(t){switch(t.type){case"group":return e(t.value);case"map":var r=t.value;let a=r.title,n=r.mapLayer;return{label:a,nodeProps:{walk:r.walkLayer},value:n}}})(t)),label:t.title,value:""}}({...n,title:""}).children:[],[n]),c=(0,s.W)({initialExpandedState:(0,s.x)(i,"*")});return(0,a.jsxs)(o.B,{p:"md",ref:t,children:[" ",(0,a.jsx)(l.P,{data:i,renderNode:e=>(0,a.jsx)(M,{...e}),tree:c})," "]})}),k=()=>(0,a.jsx)(n.Y,{mt:50,justify:"center",children:(0,a.jsx)(I,{})}),U=k},6760:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(4597)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[652,381,636,593,792],()=>t(6760)),_N_E=e.O()}]);